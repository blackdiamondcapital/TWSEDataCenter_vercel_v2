<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDStock Nexus - Âè∞ÁÅ£ËÇ°Á•®Êï∏ÊìöÊõ¥Êñ∞Á≥ªÁµ±</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Pin Lightweight Charts to a stable version to ensure API compatibility -->
    <script src="https://unpkg.com/lightweight-charts@4.2.1/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1><i class="fas fa-chart-line"></i> BDStock Nexus</h1>
            <div class="db-status" id="dbStatus">
                <i class="fas fa-database"></i>
                <span id="dbStatusText">Ë≥áÊñôÂ∫´ÁãÄÊÖã: Ê™¢Êü•‰∏≠...</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Modern Tab Navigation -->
            <nav class="modern-tab-nav">
                <div class="nav-container">
                    <div class="nav-header">
                        <div class="nav-title">
                            <div class="title-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="title-info">
                                <h1 class="main-title">Âè∞ËÇ°Êï∏ÊìöÁÆ°ÁêÜÁ≥ªÁµ±</h1>
                                <p class="main-subtitle">Taiwan Stock Data Management System</p>
                            </div>
                        </div>
                        <div class="nav-indicator">
                            <div class="indicator-dot active"></div>
                            <span class="indicator-text">Á≥ªÁµ±ÈÅãË°å‰∏≠</span>
                        </div>
                    </div>
                    
                    <div class="nav-tabs">
                        <button class="modern-tab-btn active" data-tab="update">
                            <div class="tab-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <div class="tab-content-info">
                                <span class="tab-title">Ë≥áÊñôÊõ¥Êñ∞</span>
                                <span class="tab-desc">Êõ¥Êñ∞ËÇ°ÂÉπËàáÂ†±ÈÖ¨ÁéáÊï∏Êìö</span>
                            </div>
                            <div class="tab-badge">‰∏ªË¶Å</div>
                        </button>
                        <button class="modern-tab-btn" data-tab="query">
                            <div class="tab-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="tab-content-info">
                                <span class="tab-title">Ë≥áÊñôÊü•Ë©¢</span>
                                <span class="tab-desc">Êü•Ë©¢Ê≠∑Âè≤ËÇ°ÂÉπÊï∏Êìö</span>
                            </div>
                        </button>
                    </div>
                </div>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Update Tab -->
                <div id="updateTab" class="tab-pane active">
                    <div class="section-group">


                        <!-- Date Range Card -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">ÊôÇÈñìÁØÑÂúçË®≠ÂÆö</h3>
                                    <p class="section-subtitle">ÈÅ∏ÊìáË¶ÅÊõ¥Êñ∞ÁöÑÊï∏ÊìöÊôÇÈñìÁØÑÂúç</p>
                                </div>
                                <div class="section-badge required">ÂøÖÈÅ∏</div>
                            </div>
                            
                            <div class="section-content">
                                <!-- Quick Options -->
                                <div class="quick-options">
                                    <div class="quick-option" data-days="7">
                                        <div class="option-icon">‚ö°</div>
                                        <div class="option-info">
                                            <span class="option-title">ÊúÄËøë 7 Â§©</span>
                                            <span class="option-desc">Âø´ÈÄüÊ∏¨Ë©¶</span>
                                        </div>
                                    </div>
                                    <div class="quick-option recommended active" data-days="30">
                                        <div class="option-icon">‚≠ê</div>
                                        <div class="option-info">
                                            <span class="option-title">ÊúÄËøë 30 Â§©</span>
                                            <span class="option-desc">Êé®Ëñ¶ÈÅ∏È†Ö</span>
                                        </div>
                                        <div class="recommend-badge">Êé®Ëñ¶</div>
                                    </div>
                                    <div class="quick-option" data-days="90">
                                        <div class="option-icon">üìä</div>
                                        <div class="option-info">
                                            <span class="option-title">ÊúÄËøë 3 ÂÄãÊúà</span>
                                            <span class="option-desc">‰∏≠ÊúüÂàÜÊûê</span>
                                        </div>
                                    </div>
                                    <div class="quick-option" data-days="365">
                                        <div class="option-icon">üìà</div>
                                        <div class="option-info">
                                            <span class="option-title">ÊúÄËøë 1 Âπ¥</span>
                                            <span class="option-desc">Èï∑ÊúüË∂®Âã¢</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Custom Date Range Toggle -->
                                <div class="custom-toggle">
                                    <button class="toggle-btn" id="customDateToggle">
                                        <i class="fas fa-calendar-check"></i>
                                        <span>Ëá™Ë®ÇÊó•ÊúüÁØÑÂúç</span>
                                        <i class="fas fa-chevron-down toggle-arrow"></i>
                                    </button>
                                </div>
                                
                                <!-- Custom Date Inputs -->
                                <div class="custom-date-panel" id="customDatePanel">
                                    <div class="date-inputs-row">
                                        <div class="date-input-wrapper">
                                            <label>ÈñãÂßãÊó•Êúü</label>
                                            <input type="date" id="startDate" class="date-input">
                                        </div>
                                        <div class="date-separator">‚Üí</div>
                                        <div class="date-input-wrapper">
                                            <label>ÁµêÊùüÊó•Êúü</label>
                                            <input type="date" id="endDate" class="date-input">
                                        </div>
                                    </div>
                                    <div class="date-warning">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        ÊôÇÈñìÁØÑÂúçÈÅéÈï∑ÊúÉÂ¢ûÂä†ËôïÁêÜÊôÇÈñì
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Stock Range Card -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">ËÇ°Á•®ÁØÑÂúçË®≠ÂÆö</h3>
                                    <p class="section-subtitle">ÈÅ∏ÊìáË¶ÅÊõ¥Êñ∞ÁöÑËÇ°Á•®Êï∏ÈáèÊàñÁØÑÂúç</p>
                                </div>
                                <div class="section-badge required">ÂøÖÈÅ∏</div>
                            </div>
                            
                            <div class="section-content">
                                <!-- Stock Count Options -->
                                <div class="stock-count-grid">
                                    <div class="count-option active" data-count="10">
                                        <div class="count-number">10</div>
                                        <div class="count-info">
                                            <span class="count-title">Âø´ÈÄüÊ∏¨Ë©¶</span>
                                            <span class="count-time">~30Áßí</span>
                                        </div>
                                        <div class="count-icon">‚ö°</div>
                                    </div>
                                    <div class="count-option recommended" data-count="50">
                                        <div class="count-number">50</div>
                                        <div class="count-info">
                                            <span class="count-title">Êé®Ëñ¶ÈÅ∏È†Ö</span>
                                            <span class="count-time">~1-2ÂàÜÈêò</span>
                                        </div>
                                        <div class="count-icon">‚≠ê</div>
                                        <div class="recommend-badge">Êé®Ëñ¶</div>
                                    </div>
                                    <div class="count-option" data-count="100">
                                        <div class="count-number">100</div>
                                        <div class="count-info">
                                            <span class="count-title">‰∏≠Á≠âË¶èÊ®°</span>
                                            <span class="count-time">~3-5ÂàÜÈêò</span>
                                        </div>
                                        <div class="count-icon">üìä</div>
                                    </div>
                                    <div class="count-option" data-count="500">
                                        <div class="count-number">500</div>
                                        <div class="count-info">
                                            <span class="count-title">Â§ßË¶èÊ®°</span>
                                            <span class="count-time">~15-20ÂàÜÈêò</span>
                                        </div>
                                        <div class="count-icon">üöÄ</div>
                                    </div>
                                </div>
                                
                                <!-- Advanced Options -->
                                <div class="advanced-options">
                                    <div class="advanced-toggle">
                                        <button class="toggle-btn" id="advancedToggle">
                                            <i class="fas fa-cog"></i>
                                            <span>ÈÄ≤ÈöéÈÅ∏È†Ö</span>
                                            <i class="fas fa-chevron-down toggle-arrow"></i>
                                        </button>
                                    </div>
                                    
                                    <div class="advanced-panel" id="advancedPanel">
                                        <div class="advanced-option" data-type="all">
                                            <div class="option-header">
                                                <i class="fas fa-globe"></i>
                                                <span>Êõ¥Êñ∞ÊâÄÊúâËÇ°Á•®</span>
                                                <span class="danger-badge">2073Ê™î</span>
                                            </div>
                                            <p class="option-desc">Êõ¥Êñ∞ÂÖ®ÈÉ®Âè∞ËÇ°ÔºåÈúÄË¶ÅËºÉÈï∑ÊôÇÈñì (Á¥Ñ2-3Â∞èÊôÇ)</p>
                                        </div>
                                        
                                        <div class="advanced-option" data-type="listed">
                                            <div class="option-header">
                                                <i class="fas fa-building"></i>
                                                <span>Êõ¥Êñ∞ÊâÄÊúâ‰∏äÂ∏ÇËÇ°Á•®</span>
                                                <span class="info-badge">~900Ê™î</span>
                                            </div>
                                            <p class="option-desc">Êõ¥Êñ∞Âè∞ÁÅ£Ë≠âÂà∏‰∫§ÊòìÊâÄ (TWSE) ÊâÄÊúâ‰∏äÂ∏ÇËÇ°Á•® (Á¥Ñ45-60ÂàÜÈêò)</p>
                                        </div>
                                        
                                        <div class="advanced-option" data-type="otc">
                                            <div class="option-header">
                                                <i class="fas fa-store"></i>
                                                <span>Êõ¥Êñ∞ÊâÄÊúâ‰∏äÊ´ÉËÇ°Á•®</span>
                                                <span class="info-badge">~800Ê™î</span>
                                            </div>
                                            <p class="option-desc">Êõ¥Êñ∞Âè∞ÁÅ£Ë≠âÂà∏Ê´ÉÊ™ØË≤∑Ë≥£‰∏≠ÂøÉ (TPEX) ÊâÄÊúâ‰∏äÊ´ÉËÇ°Á•® (Á¥Ñ40-50ÂàÜÈêò)</p>
                                        </div>
                                        
                                        <div class="advanced-option" data-type="range">
                                            <div class="option-header">
                                                <i class="fas fa-code"></i>
                                                <span>ÊåáÂÆö‰ª£Á¢ºÁØÑÂúç</span>
                                            </div>
                                            <p class="option-desc">Á≤æÁ¢∫ÊéßÂà∂Êõ¥Êñ∞ÁöÑËÇ°Á•®‰ª£Á¢ºÁØÑÂúç</p>
                                            <div class="range-inputs" id="rangeInputs">
                                                <div class="range-row">
                                                    <input type="text" id="rangeFrom" placeholder="Ëµ∑Âßã‰ª£Á¢º (Â¶Ç: 1101)" class="range-input">
                                                    <span class="range-separator">‚Üí</span>
                                                    <input type="text" id="rangeTo" placeholder="ÁµêÊùü‰ª£Á¢º (Â¶Ç: 1110)" class="range-input">
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="advanced-option" data-type="indices">
                                            <div class="option-header">
                                                <i class="fas fa-chart-area"></i>
                                                <span>Â∏ÇÂ†¥ÊåáÊï∏</span>
                                                <span class="info-badge">1Ê™î</span>
                                            </div>
                                            <p class="option-desc">Êõ¥Êñ∞Âè∞ÁÅ£‰∏ªË¶ÅÂ∏ÇÂ†¥ÊåáÊï∏Êï∏Êìö (Âä†Ê¨äÊåáÊï∏)</p>
                                            <div class="indices-grid" id="indicesGrid">
                                                <div class="index-item" data-symbol="^TWII">
                                                    <input type="checkbox" id="index-twii" class="index-checkbox">
                                                    <label for="index-twii" class="index-label">
                                                        <span class="index-name">Âè∞ÁÅ£Âä†Ê¨äÊåáÊï∏</span>
                                                        <span class="index-symbol">^TWII</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="indices-actions">
                                                <button type="button" class="btn-small btn-outline" id="selectAllIndices">ÂÖ®ÈÅ∏</button>
                                                <button type="button" class="btn-small btn-outline" id="clearAllIndices">Ê∏ÖÈô§</button>
                                            </div>
                                        </div>

                                        <!-- Performance Tuning Options -->
                                        <div class="advanced-option" data-type="performance">
                                            <div class="option-header">
                                                <i class="fas fa-gauge-high"></i>
                                                <span>ÊïàËÉΩÂèÉÊï∏</span>
                                                <span class="info-badge">ÂèØË™ø</span>
                                            </div>
                                            <p class="option-desc">Ë™øÊï¥ÊâπÊ¨°Â§ßÂ∞è„ÄÅ‰∏¶Ë°åÂ∫¶ËàáÊâπÊ¨°ÈñìÂª∂ÈÅ≤‰ª•Âπ≥Ë°°ÂêûÂêêËàáÁ©©ÂÆöÊÄß</p>
                                            <div class="range-inputs">
                                                <div class="range-row">
                                                    <label for="inputBatchSize">ÊâπÊ¨°Â§ßÂ∞è</label>
                                                    <input type="number" id="inputBatchSize" class="range-input" min="1" max="500" step="1" value="10" placeholder="ÊØèÊâπËôïÁêÜÁöÑËÇ°Á•®Êï∏">
                                                </div>
                                                <div class="range-row">
                                                    <label for="inputConcurrency">‰∏¶Ë°åÂ∫¶</label>
                                                    <input type="number" id="inputConcurrency" class="range-input" min="1" max="100" step="1" value="20" placeholder="ÊØèÊâπÂêåÊôÇËôïÁêÜÁöÑË´ãÊ±ÇÊï∏">
                                                </div>
                                                <div class="range-row">
                                                    <label for="inputInterBatchDelay">ÊâπÊ¨°ÈñìÂª∂ÈÅ≤ (ÊØ´Áßí)</label>
                                                    <input type="number" id="inputInterBatchDelay" class="range-input" min="0" max="5000" step="50" value="300" placeholder="ÊâπÊ¨°‰πãÈñìÊö´ÂÅúÊôÇÈñì">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-panel">
                            <div class="action-header">
                                <h3 class="action-title">
                                    <i class="fas fa-rocket"></i>
                                    Âü∑Ë°åÊìç‰Ωú
                                </h3>
                                <div class="action-status" id="actionStatus">
                                    <span class="status-indicator ready"></span>
                                    <span class="status-text">Ê∫ñÂÇôÂ∞±Á∑í</span>
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button id="executeUpdate" class="btn btn-primary action-btn">
                                    <div class="btn-content">
                                        <i class="fas fa-play"></i>
                                        <span class="btn-text">Âü∑Ë°åË≥áÊñôÊõ¥Êñ∞</span>
                                        <span class="btn-subtitle">ÈñãÂßãÊäìÂèñËÇ°Á•®Êï∏Êìö</span>
                                    </div>
                                </button>
                                <button id="startAutoExperiments" class="btn btn-outline action-btn">
                                    <div class="btn-content">
                                        <i class="fas fa-flask"></i>
                                        <span class="btn-text">ÈñãÂßãËá™ÂãïÂØ¶È©ó</span>
                                        <span class="btn-subtitle">‰æùÂèÉÊï∏ÁµÑÂêàËá™ÂãïÂü∑Ë°åËàáÂ∞éÂá∫Êó•Ë™å</span>
                                    </div>
                                </button>
                                <button id="cancelUpdate" class="btn btn-secondary action-btn" disabled>
                                    <div class="btn-content">
                                        <i class="fas fa-stop"></i>
                                        <span class="btn-text">ÂÅúÊ≠¢Êõ¥Êñ∞</span>
                                        <span class="btn-subtitle">ÂèñÊ∂àÈÄ≤Ë°å‰∏≠ÁöÑÊìç‰Ωú</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>

                    

                    <!-- Progress Section -->
                    <div class="section-group">
                        <h3><i class="fas fa-tasks"></i> Âü∑Ë°åÈÄ≤Â∫¶</h3>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                                <span class="progress-text" id="progressText">0%</span>
                            </div>
                            <div class="progress-status" id="progressStatus">Â∞±Á∑í</div>
                        </div>
                    </div>


                    <!-- Logs Section -->
                    <div class="section-group">
                        <h3><i class="fas fa-clipboard-list"></i> Âü∑Ë°åÊó•Ë™å</h3>
                        <div class="log-actions">
                            <label for="logLevelFilter">
                                <i class="fas fa-filter"></i>
                                <span>Á≠âÁ¥ö</span>
                                <select id="logLevelFilter" class="modern-select">
                                    <option value="all">ÂÖ®ÈÉ®</option>
                                    <option value="info">Ë≥áË®ä</option>
                                    <option value="success">ÊàêÂäü</option>
                                    <option value="warning">Ë≠¶Âëä</option>
                                    <option value="error">ÈåØË™§</option>
                                </select>
                            </label>
                            <label for="autoScrollLog" class="auto-scroll">
                                <input type="checkbox" id="autoScrollLog" checked>
                                <span>Ëá™ÂãïÊç≤Âãï</span>
                            </label>
                            <button id="exportLog" class="btn btn-outline action-btn">
                                <div class="btn-content">
                                    <i class="fas fa-download"></i>
                                    <span class="btn-text">Â∞éÂá∫Êó•Ë™å</span>
                                    <span class="btn-subtitle">‰∏ãËºâÁõÆÂâçÁöÑÂü∑Ë°åÁ¥ÄÈåÑ</span>
                                </div>
                            </button>
                            <button id="clearLog" class="btn btn-secondary action-btn">
                                <div class="btn-content">
                                    <i class="fas fa-trash"></i>
                                    <span class="btn-text">Ê∏ÖÈô§Êó•Ë™å</span>
                                    <span class="btn-subtitle">Ê∏ÖÁ©∫Êó•Ë™åÂÖßÂÆπ</span>
                                </div>
                            </button>
                        </div>
                        <div id="logContent" class="log-content">
                            <!-- ÂãïÊÖãÊó•Ë™åËº∏Âá∫ÂçÄ -->
                        </div>
                    </div>


                </div>

                <!-- Query Tab -->
                <div id="queryTab" class="tab-pane">
                    <div class="section-group">
                        <div class="section-header-main">
                            <div class="header-left">
                                <div class="header-icon">
                                    <i class="fas fa-search"></i>
                                </div>
                                <div class="header-info">
                                    <h2 class="section-main-title">Ë≥áÊñôÊü•Ë©¢</h2>
                                    <p class="section-main-subtitle">Êü•Ë©¢Ê≠∑Âè≤ËÇ°ÂÉπÂíåÂ†±ÈÖ¨ÁéáÊï∏Êìö</p>
                                </div>
                            </div>
                            <div class="header-right">
                                <div class="config-status">
                                    <div class="status-indicator ready"></div>
                                    <span class="status-label">Êü•Ë©¢Â∞±Á∑í</span>
                                </div>
                            </div>
                        </div>

                        <!-- Stock Selection Card -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">ËÇ°Á•®ÈÅ∏Êìá</h3>
                                    <p class="section-subtitle">ÈÅ∏ÊìáË¶ÅÊü•Ë©¢ÁöÑËÇ°Á•®‰ª£Á¢º</p>
                                </div>
                                <div class="section-badge">ÂøÖÈÅ∏</div>
                            </div>
                            
                            <div class="section-content">
                                <div class="stock-input-container">
                                    <div class="input-group">
                                        <div class="input-icon">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <input type="text" id="tickerInput" class="modern-input" 
                                               placeholder="Ëº∏ÂÖ•ËÇ°Á•®‰ª£Á¢º (Â¶Ç: 2330.TW) ÊàñÂ§öÊ™îËÇ°Á•®Áî®ÈÄóËôüÂàÜÈöî">
                                        <div class="input-actions">
                                            <button class="input-btn" id="addStockBtn">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div id="stockSuggestions" class="stock-suggestions"></div>
                                    <div id="selectedStocks" class="selected-stocks-modern"></div>
                                    <div class="input-hint">
                                        <i class="fas fa-info-circle"></i>
                                        ÊîØÊè¥ÂñÆÊ™îÊàñÂ§öÊ™îËÇ°Á•®Êü•Ë©¢ÔºåÂ§öÊ™îË´ãÁî®ÈÄóËôüÂàÜÈöî (Â¶Ç: 2330.TW, 2317.TW, 2454.TW)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Date Range Card -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">Êü•Ë©¢ÊôÇÈñìÁØÑÂúç</h3>
                                    <p class="section-subtitle">Ë®≠ÂÆöÊï∏ÊìöÊü•Ë©¢ÁöÑÊó•ÊúüÂçÄÈñì</p>
                                </div>
                                <div class="section-badge">ÂøÖÈÅ∏</div>
                            </div>
                            
                            <div class="section-content">
                                <div class="date-range-modern">
                                    <div class="date-input-group">
                                        <label class="date-label">ÈñãÂßãÊó•Êúü</label>
                                        <div class="date-input-container">
                                            <i class="fas fa-calendar"></i>
                                            <input type="date" id="queryStartDate" class="modern-date-input">
                                        </div>
                                    </div>
                                    <div class="date-separator">
                                        <i class="fas fa-arrow-right"></i>
                                    </div>
                                    <div class="date-input-group">
                                        <label class="date-label">ÁµêÊùüÊó•Êúü</label>
                                        <div class="date-input-container">
                                            <i class="fas fa-calendar"></i>
                                            <input type="date" id="queryEndDate" class="modern-date-input">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Query Type Card -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-cogs"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">Êü•Ë©¢È°ûÂûã</h3>
                                    <p class="section-subtitle">ÈÅ∏ÊìáË¶ÅÊü•Ë©¢ÁöÑÊï∏ÊìöÈ°ûÂûãÂíåÊôÇÈñìÂ∞∫Â∫¶</p>
                                </div>
                                <div class="section-badge">ÈÖçÁΩÆ</div>
                            </div>
                            
                            <div class="section-content">
                                <div class="query-type-options">
                                    <div class="query-option active" data-type="price">
                                        <div class="option-header">
                                            <div class="option-icon">üí∞</div>
                                            <div class="option-info">
                                                <span class="option-title">ËÇ°ÂÉπÊï∏Êìö</span>
                                                <span class="option-desc">ÈñãÁõ§„ÄÅÊî∂Áõ§„ÄÅÊúÄÈ´ò„ÄÅÊúÄ‰ΩéÂÉπÊ†ºÂèäÊàê‰∫§Èáè</span>
                                            </div>
                                            <div class="option-toggle">
                                                <input type="radio" name="queryType" value="price" id="queryTypePrice" checked>
                                                <span class="radio-custom"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="query-option" data-type="return">
                                        <div class="option-header">
                                            <div class="option-icon">üìä</div>
                                            <div class="option-info">
                                                <span class="option-title">Â†±ÈÖ¨ÁéáÊï∏Êìö</span>
                                                <span class="option-desc">ÂêÑÊôÇÈñìÂ∞∫Â∫¶ÁöÑÂ†±ÈÖ¨ÁéáÁµ±Ë®à</span>
                                            </div>
                                            <div class="option-toggle">
                                                <input type="radio" name="queryType" value="return" id="queryTypeReturn">
                                                <span class="radio-custom"></span>
                                            </div>
                                        </div>
                                        <div class="frequency-panel">
                                            <label class="frequency-label">ÊôÇÈñìÂ∞∫Â∫¶:</label>
                                            <select id="frequencySelect" class="modern-select">
                                                <option value="daily">Êó•Â†±ÈÖ¨Áéá</option>
                                                <option value="weekly">ÈÄ±Â†±ÈÖ¨Áéá</option>
                                                <option value="monthly">ÊúàÂ†±ÈÖ¨Áéá</option>
                                                <option value="quarterly">Â≠£Â†±ÈÖ¨Áéá</option>
                                                <option value="yearly">Âπ¥Â†±ÈÖ¨Áéá</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="config-section">
                            <div class="section-header">
                                <div class="section-icon">
                                    <i class="fas fa-play"></i>
                                </div>
                                <div class="section-info">
                                    <h3 class="section-title">Âü∑Ë°åÊü•Ë©¢</h3>
                                    <p class="section-subtitle">ÈñãÂßãÊü•Ë©¢Êï∏Êìö‰∏¶È°ØÁ§∫ÁµêÊûú</p>
                                </div>
                            </div>
                            
                            <div class="section-content">
                                <div class="action-buttons-modern">
                                    <button id="executeQuery" class="action-btn primary">
                                        <div class="btn-icon">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <div class="btn-content">
                                            <span class="btn-title">Âü∑Ë°åÊü•Ë©¢</span>
                                            <span class="btn-desc">ÈñãÂßãÊü•Ë©¢ÈÅ∏ÂÆöÁöÑÊï∏Êìö</span>
                                        </div>
                                    </button>
                                    <button id="exportQuery" class="action-btn secondary">
                                        <div class="btn-icon">
                                            <i class="fas fa-download"></i>
                                        </div>
                                        <div class="btn-content">
                                            <span class="btn-title">Â∞éÂá∫ÁµêÊûú</span>
                                            <span class="btn-desc">‰∏ãËºâÊü•Ë©¢ÁµêÊûúÁÇ∫ CSV</span>
                                        </div>
                                    </button>
                                    <button id="clearQuery" class="action-btn tertiary">
                                        <div class="btn-icon">
                                            <i class="fas fa-trash"></i>
                                        </div>
                                        <div class="btn-content">
                                            <span class="btn-title">Ê∏ÖÈô§ÁµêÊûú</span>
                                            <span class="btn-desc">Ê∏ÖÁ©∫Êü•Ë©¢ÁµêÊûúË°®Ê†º</span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Query Results Section -->
                    <div class="results-section">
                        <div class="results-header">
                            <div class="results-title-group">
                                <div class="results-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="results-info">
                                    <h3 class="results-title">Êü•Ë©¢ÁµêÊûú</h3>
                                    <p class="results-subtitle" id="resultsSubtitle">Á≠âÂæÖÊü•Ë©¢Êï∏Êìö...</p>
                                </div>
                            </div>
                            <div class="results-controls">
                                <div class="view-toggle">
                                    <button class="toggle-btn active" data-view="table">
                                        <i class="fas fa-table"></i>
                                        <span>Ë°®Ê†º</span>
                                    </button>
                                    <button class="toggle-btn" data-view="chart">
                                        <i class="fas fa-chart-area"></i>
                                        <span>ÂúñË°®</span>
                                    </button>
                                </div>
                                <div class="results-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">Ë®òÈåÑÊï∏</span>
                                        <span class="stat-value" id="recordCount">0</span>
                                    </div>
                                </div>
                                <div id="dateRangeInfo" class="date-range-info" style="display: none;"></div>
                            </div>
                        </div>

                        <!-- Table View -->
                        <div class="results-content" id="tableView">
                            <div class="modern-table-wrapper">
                                <div class="table-scroll-container">
                                    <table id="queryTable" class="modern-data-table">
                                        <thead>
                                            <tr>
                                                <th class="loading-header">
                                                    <div class="loading-content">
                                                        <i class="fas fa-spinner fa-spin"></i>
                                                        <span>Ê∫ñÂÇô‰∏≠...</span>
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="no-data-row">
                                                <td class="no-data-cell">
                                                    <div class="no-data-content">
                                                        <div class="no-data-icon">
                                                            <i class="fas fa-search"></i>
                                                        </div>
                                                        <div class="no-data-text">
                                                            <h4>Â∞öÁÑ°Êü•Ë©¢ÁµêÊûú</h4>
                                                            <p>Ë´ãÈÅ∏ÊìáËÇ°Á•®‰ª£Á¢ºÂíåÊó•ÊúüÁØÑÂúçÔºåÁÑ∂ÂæåÈªûÊìä„ÄåÂü∑Ë°åÊü•Ë©¢„Äç</p>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Chart View -->
                        <div class="results-content hidden" id="chartView">
                            <div class="chart-container">
                                <div class="chart-controls">
                                    <div class="chart-type-selector">
                                        <!-- ÂÉÖ‰øùÁïô K Á∑öÂúñÈ°ØÁ§∫ÔºåÊåâÈàïÂú®ËÖ≥Êú¨‰∏≠Èö±Ëóè -->
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <!-- Lightweight Charts ÂÆπÂô®ÔºöÁî®Êñº K Á∑öÂúñ -->
                                    <div id="lightweightChart" style="width: 100%; height: 420px; display: none;"></div>
                                    <canvas id="dataChart" width="800" height="400"></canvas>
                                </div>
                                <div class="chart-placeholder" id="chartPlaceholder">
                                    <div class="chart-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>ÂúñË°®Ë¶ñÂúñ</h4>
                                    <p>Âü∑Ë°åÊü•Ë©¢ÂæåÂ∞áÈ°ØÁ§∫Êï∏ÊìöÂúñË°®</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </main>

    </div>

    <!-- Cache-busting: bump version to force reload of updated script.js -->
    <script src="script.js?v=20250823-2345"></script>
  </body>
  </html>
